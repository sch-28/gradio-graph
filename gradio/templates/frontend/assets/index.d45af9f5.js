import{S as pe,i as ke,s as ve,ab as te,c as I,m as N,l as T,j as y,k as A,o as S,P as we,Q as ye,a as D,A as je,f as C,R as ze,T as Be,C as M,D as E,n as G,a7 as Ae,H as F,e as w,b as h,L as H,Y as J,d as B,g as j,t as ne,h as ie,B as oe,z as Ce,ae as Ge,w as P}from"./index.ae43c3ae.js";import{B as De}from"./Block.696aff4b.js";import{B as Le}from"./BlockLabel.d1d4be56.js";import{M as Re}from"./ModifyUpload.c387ba25.js";import{n as K}from"./utils.27234e1d.js";import{g as He}from"./styles.ed3b21b5.js";import{I as V}from"./Image.ff3f49c4.js";function O(t,e,l){const i=t.slice();return i[30]=e[l][0],i[31]=e[l][1],i[33]=l,i}function W(t,e,l){const i=t.slice();return i[30]=e[l],i[34]=e,i[33]=l,i}function X(t){let e,l;return e=new Le({props:{show_label:t[1],Icon:V,label:t[2]||"Gallery",disable:typeof t[6].container=="boolean"&&!t[6].container}}),{c(){I(e.$$.fragment)},m(i,o){N(e,i,o),l=!0},p(i,o){const n={};o[0]&2&&(n.show_label=i[1]),o[0]&4&&(n.label=i[2]||"Gallery"),o[0]&64&&(n.disable=typeof i[6].container=="boolean"&&!i[6].container),e.$set(n)},i(i){l||(y(e.$$.fragment,i),l=!0)},o(i){A(e.$$.fragment,i),l=!1},d(i){S(e,i)}}}function Ie(t){let e,l,i,o,n,s,a=t[7]!==null&&Z(t);const p=[Te,Se],m=[];function g(f,c){return f[10].length===0?0:1}return i=g(t),o=m[i]=p[i](t),{c(){a&&a.c(),e=D(),l=w("div"),o.c(),h(l,"class","overflow-y-auto h-full p-2"),te(()=>t[27].call(l)),B(l,"min-h-[350px]",t[6].height!=="auto"),B(l,"max-h-[55vh]",t[6].height!=="auto"),B(l,"xl:min-h-[450px]",t[6].height!=="auto")},m(f,c){a&&a.m(f,c),C(f,e,c),C(f,l,c),m[i].m(l,null),n=Ge(l,t[27].bind(l)),s=!0},p(f,c){f[7]!==null?a?(a.p(f,c),c[0]&128&&y(a,1)):(a=Z(f),a.c(),y(a,1),a.m(e.parentNode,e)):a&&(M(),A(a,1,1,()=>{a=null}),E());let z=i;i=g(f),i===z?m[i].p(f,c):(M(),A(m[z],1,1,()=>{m[z]=null}),E(),o=m[i],o?o.p(f,c):(o=m[i]=p[i](f),o.c()),y(o,1),o.m(l,null)),c[0]&64&&B(l,"min-h-[350px]",f[6].height!=="auto"),c[0]&64&&B(l,"max-h-[55vh]",f[6].height!=="auto"),c[0]&64&&B(l,"xl:min-h-[450px]",f[6].height!=="auto")},i(f){s||(y(a),y(o),s=!0)},o(f){A(a),A(o),s=!1},d(f){a&&a.d(f),f&&G(e),f&&G(l),m[i].d(),n()}}}function Ne(t){let e,l,i,o;return i=new V({}),{c(){e=w("div"),l=w("div"),I(i.$$.fragment),h(l,"class","h-5 dark:text-white opacity-50"),h(e,"class","h-full min-h-[15rem] flex justify-center items-center")},m(n,s){C(n,e,s),j(e,l),N(i,l,null),o=!0},p:P,i(n){o||(y(i.$$.fragment,n),o=!0)},o(n){A(i.$$.fragment,n),o=!1},d(n){n&&G(e),S(i)}}}function Z(t){let e,l,i,o,n,s,a,p,m,g,f,c,z;l=new Re({}),l.$on("clear",t[21]);let r=t[10][t[7]][1]&&$(t),b=t[10],k=[];for(let u=0;u<b.length;u+=1)k[u]=x(W(t,b,u));return{c(){e=w("div"),I(l.$$.fragment),i=D(),o=w("img"),p=D(),r&&r.c(),m=D(),g=w("div");for(let u=0;u<k.length;u+=1)k[u].c();h(o,"class","w-full object-contain h-[calc(100%-50px)"),H(o.src,n=t[10][t[7]][0].data)||h(o,"src",n),h(o,"alt",s=t[10][t[7]][1]||""),h(o,"title",a=t[10][t[7]][1]||null),J(o,"height","calc(100% - "+(t[10][t[7]][1]?"80px":"60px")+")"),h(g,"class","absolute h-[60px] overflow-x-scroll scroll-hide w-full bottom-0 flex gap-1.5 items-center py-2 text-sm px-3 justify-center"),h(e,"class","absolute group inset-0 z-10 flex flex-col bg-white/90 dark:bg-gray-900 backdrop-blur h-full"),B(e,"min-h-[350px]",t[6].height!=="auto"),B(e,"max-h-[55vh]",t[6].height!=="auto"),B(e,"xl:min-h-[450px]",t[6].height!=="auto")},m(u,d){C(u,e,d),N(l,e,null),j(e,i),j(e,o),j(e,p),r&&r.m(e,null),j(e,m),j(e,g);for(let v=0;v<k.length;v+=1)k[v].m(g,null);t[25](g),f=!0,c||(z=[T(o,"click",t[22]),T(e,"keydown",t[16])],c=!0)},p(u,d){if((!f||d[0]&1152&&!H(o.src,n=u[10][u[7]][0].data))&&h(o,"src",n),(!f||d[0]&1152&&s!==(s=u[10][u[7]][1]||""))&&h(o,"alt",s),(!f||d[0]&1152&&a!==(a=u[10][u[7]][1]||null))&&h(o,"title",a),(!f||d[0]&1152)&&J(o,"height","calc(100% - "+(u[10][u[7]][1]?"80px":"60px")+")"),u[10][u[7]][1]?r?r.p(u,d):(r=$(u),r.c(),r.m(e,m)):r&&(r.d(1),r=null),d[0]&3200){b=u[10];let v;for(v=0;v<b.length;v+=1){const L=W(u,b,v);k[v]?k[v].p(L,d):(k[v]=x(L),k[v].c(),k[v].m(g,null))}for(;v<k.length;v+=1)k[v].d(1);k.length=b.length}d[0]&64&&B(e,"min-h-[350px]",u[6].height!=="auto"),d[0]&64&&B(e,"max-h-[55vh]",u[6].height!=="auto"),d[0]&64&&B(e,"xl:min-h-[450px]",u[6].height!=="auto")},i(u){f||(y(l.$$.fragment,u),f=!0)},o(u){A(l.$$.fragment,u),f=!1},d(u){u&&G(e),S(l),r&&r.d(),oe(k,u),t[25](null),c=!1,Ce(z)}}}function $(t){let e,l,i=t[10][t[7]][1]+"",o;return{c(){e=w("div"),l=w("div"),o=ne(i),h(l,"class","dark:text-gray-200 font-semibold px-3 py-1 max-w-full truncate"),h(e,"class","bottom-[50px] absolute z-[5] flex justify-center w-full")},m(n,s){C(n,e,s),j(e,l),j(l,o)},p(n,s){s[0]&1152&&i!==(i=n[10][n[7]][1]+"")&&ie(o,i)},d(n){n&&G(e)}}}function x(t){let e,l,i,o,n,s,a,p=t[33],m,g;const f=()=>t[23](e,p),c=()=>t[23](null,p);function z(){return t[24](t[33])}return{c(){e=w("button"),l=w("img"),s=D(),h(l,"class","h-full w-full overflow-hidden object-contain"),H(l.src,i=t[30][0].data)||h(l,"src",i),h(l,"title",o=t[30][1]||null),h(l,"alt",n=t[30][1]||null),h(e,"class",a="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(t[7]===t[33]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-1g9btlg")},m(r,b){C(r,e,b),j(e,l),j(e,s),f(),m||(g=T(e,"click",z),m=!0)},p(r,b){t=r,b[0]&1024&&!H(l.src,i=t[30][0].data)&&h(l,"src",i),b[0]&1024&&o!==(o=t[30][1]||null)&&h(l,"title",o),b[0]&1024&&n!==(n=t[30][1]||null)&&h(l,"alt",n),b[0]&128&&a!==(a="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(t[7]===t[33]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-1g9btlg")&&h(e,"class",a),p!==t[33]&&(c(),p=t[33],f())},d(r){r&&G(e),c(),m=!1,g()}}}function Se(t){let e,l,i=t[10],o=[];for(let n=0;n<i.length;n+=1)o[n]=le(O(t,i,n));return{c(){e=w("div");for(let n=0;n<o.length;n+=1)o[n].c();h(e,"class",l="grid gap-2 "+t[13]+" svelte-1g9btlg"),B(e,"pt-6",t[1])},m(n,s){C(n,e,s);for(let a=0;a<o.length;a+=1)o[a].m(e,null)},p(n,s){if(s[0]&17536){i=n[10];let a;for(a=0;a<i.length;a+=1){const p=O(n,i,a);o[a]?o[a].p(p,s):(o[a]=le(p),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}s[0]&8192&&l!==(l="grid gap-2 "+n[13]+" svelte-1g9btlg")&&h(e,"class",l),s[0]&8194&&B(e,"pt-6",n[1])},i:P,o:P,d(n){n&&G(e),oe(o,n)}}}function Te(t){let e,l,i,o;return i=new V({}),{c(){e=w("div"),l=w("div"),I(i.$$.fragment),h(l,"class","h-5 dark:text-white opacity-50"),h(e,"class","h-full min-h-[15rem] flex justify-center items-center")},m(n,s){C(n,e,s),j(e,l),N(i,l,null),o=!0},p:P,i(n){o||(y(i.$$.fragment,n),o=!0)},o(n){A(i.$$.fragment,n),o=!1},d(n){n&&G(e),S(i)}}}function ee(t){let e,l,i=t[31]+"",o;return{c(){e=w("div"),l=w("div"),o=ne(i),h(l,"class","bg-gray-50 dark:bg-gray-700 dark:text-gray-200 text-xs border-t border-l dark:border-gray-600 font-semibold px-3 py-1 rounded-tl-lg group-hover:opacity-50 max-w-full truncate"),h(e,"class","bottom-0 absolute z-[5] flex justify-end w-full")},m(n,s){C(n,e,s),j(e,l),j(l,o)},p(n,s){s[0]&1024&&i!==(i=n[31]+"")&&ie(o,i)},d(n){n&&G(e)}}}function le(t){let e,l,i,o,n,s,a,p,m=t[31]&&ee(t);function g(){return t[26](t[33])}return{c(){e=w("button"),l=w("img"),n=D(),m&&m.c(),s=D(),h(l,"alt",i=t[31]||""),h(l,"class","h-full w-full overflow-hidden object-contain"),H(l.src,o=typeof t[30]=="string"?t[30]:t[30].data)||h(l,"src",o),h(e,"class","gallery-item group svelte-1g9btlg")},m(f,c){C(f,e,c),j(e,l),j(e,n),m&&m.m(e,null),j(e,s),a||(p=T(e,"click",g),a=!0)},p(f,c){t=f,c[0]&1024&&i!==(i=t[31]||"")&&h(l,"alt",i),c[0]&1024&&!H(l.src,o=typeof t[30]=="string"?t[30]:t[30].data)&&h(l,"src",o),t[31]?m?m.p(t,c):(m=ee(t),m.c(),m.m(e,s)):m&&(m.d(1),m=null)},d(f){f&&G(e),m&&m.d(),a=!1,p()}}}function qe(t){let e,l,i,o,n,s,a;const p=[t[0]];let m={};for(let r=0;r<p.length;r+=1)m=we(m,p[r]);e=new ye({props:m});let g=t[1]&&X(t);const f=[Ne,Ie],c=[];function z(r,b){return r[5]===null||r[10]===null?0:1}return o=z(t),n=c[o]=f[o](t),{c(){I(e.$$.fragment),l=D(),g&&g.c(),i=D(),n.c(),s=je()},m(r,b){N(e,r,b),C(r,l,b),g&&g.m(r,b),C(r,i,b),c[o].m(r,b),C(r,s,b),a=!0},p(r,b){const k=b[0]&1?ze(p,[Be(r[0])]):{};e.$set(k),r[1]?g?(g.p(r,b),b[0]&2&&y(g,1)):(g=X(r),g.c(),y(g,1),g.m(i.parentNode,i)):g&&(M(),A(g,1,1,()=>{g=null}),E());let u=o;o=z(r),o===u?c[o].p(r,b):(M(),A(c[u],1,1,()=>{c[u]=null}),E(),n=c[o],n?n.p(r,b):(n=c[o]=f[o](r),n.c()),y(n,1),n.m(s.parentNode,s))},i(r){a||(y(e.$$.fragment,r),y(g),y(n),a=!0)},o(r){A(e.$$.fragment,r),A(g),A(n),a=!1},d(r){S(e,r),r&&G(l),g&&g.d(r),r&&G(i),c[o].d(r),r&&G(s)}}}function Me(t){let e,l,i,o;return te(t[20]),e=new De({props:{visible:t[4],variant:"solid",color:"grey",padding:!1,elem_id:t[3],disable:typeof t[6].container=="boolean"&&!t[6].container,$$slots:{default:[qe]},$$scope:{ctx:t}}}),{c(){I(e.$$.fragment)},m(n,s){N(e,n,s),l=!0,i||(o=T(window,"resize",t[20]),i=!0)},p(n,s){const a={};s[0]&16&&(a.visible=n[4]),s[0]&8&&(a.elem_id=n[3]),s[0]&64&&(a.disable=typeof n[6].container=="boolean"&&!n[6].container),s[0]&64999|s[1]&16&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){l||(y(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){S(e,n),i=!1,o()}}}function Ee(t,e,l){let i,o,n,s,a,{loading_status:p}=e,{show_label:m}=e,{label:g}=e,{root:f}=e,{root_url:c}=e,{elem_id:z=""}=e,{visible:r=!0}=e,{value:b=null}=e,{style:k={}}=e,u=null,d=null;function v(_){switch(_.code){case"Escape":_.preventDefault(),l(7,d=null);break;case"ArrowLeft":_.preventDefault(),l(7,d=o);break;case"ArrowRight":_.preventDefault(),l(7,d=n);break}}let L=[],R;async function ae(_){if(typeof _!="number")return;await Ae(),L[_].focus();const{left:U,width:he}=R.getBoundingClientRect(),{left:be,width:de}=L[_].getBoundingClientRect(),Y=be-U+de/2-he/2+R.scrollLeft;R.scrollTo({left:Y<0?0:Y,behavior:"smooth"})}let q=0,Q=0;function re(){l(9,Q=window.innerHeight)}const se=()=>l(7,d=null),fe=()=>l(7,d=n);function ue(_,U){F[_?"unshift":"push"](()=>{L[U]=_,l(11,L)})}const _e=_=>l(7,d=_);function ce(_){F[_?"unshift":"push"](()=>{R=_,l(12,R)})}const me=_=>l(7,d=s?_:d);function ge(){q=this.clientHeight,l(8,q)}return t.$$set=_=>{"loading_status"in _&&l(0,p=_.loading_status),"show_label"in _&&l(1,m=_.show_label),"label"in _&&l(2,g=_.label),"root"in _&&l(17,f=_.root),"root_url"in _&&l(18,c=_.root_url),"elem_id"in _&&l(3,z=_.elem_id),"visible"in _&&l(4,r=_.visible),"value"in _&&l(5,b=_.value),"style"in _&&l(6,k=_.style)},t.$$.update=()=>{t.$$.dirty[0]&393248&&l(10,i=b===null?null:b.map(_=>Array.isArray(_)?[K(_[0],c??f),_[1]]:[K(_,c??f),null])),t.$$.dirty[0]&524320&&u!==b&&(l(7,d=null),l(19,u=b)),t.$$.dirty[0]&1152&&(o=((d??0)+(i?.length??0)-1)%(i?.length??0)),t.$$.dirty[0]&1152&&l(15,n=((d??0)+1)%(i?.length??0)),t.$$.dirty[0]&128&&ae(d),t.$$.dirty[0]&768&&l(14,s=Q>=q),t.$$.dirty[0]&64&&l(13,{classes:a}=He(k,["grid"]),a)},[p,m,g,z,r,b,k,d,q,Q,i,L,R,a,s,n,v,f,c,u,re,se,fe,ue,_e,ce,me,ge]}class Pe extends pe{constructor(e){super(),ke(this,e,Ee,Me,ve,{loading_status:0,show_label:1,label:2,root:17,root_url:18,elem_id:3,visible:4,value:5,style:6},null,[-1,-1])}}var We=Pe;const Xe=["static"];export{We as Component,Xe as modes};
//# sourceMappingURL=index.d45af9f5.js.map
